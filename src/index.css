@import "tailwindcss";

/* Restrict Tailwind content scanning to src/ — prevents EMFILE from src-tauri/target/doc/ */
@source "../src";
@source not "../src-tauri";
@source not "../node_modules";

/* Geist font family */
@font-face {
  font-family: "Geist";
  src: url("/fonts/Geist-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Geist";
  src: url("/fonts/Geist-Medium.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Geist";
  src: url("/fonts/Geist-SemiBold.woff2") format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Geist Mono";
  src: url("/fonts/GeistMono-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* Nord color palette */
@theme {
  /* Polar Night — backgrounds */
  --color-background: hsl(220, 16%, 22%);         /* #2E3440 */
  --color-surface-0: hsl(220, 16%, 22%);           /* #2E3440 */
  --color-surface-1: hsl(222, 16%, 28%);           /* #3B4252 */
  --color-surface-2: hsl(220, 16%, 32%);           /* #434C5E */
  --color-surface-3: hsl(220, 16%, 36%);           /* #4C566A */
  --color-surface-raised: hsl(220, 16%, 40%);

  /* Snow Storm — text */
  --color-foreground: hsl(219, 28%, 88%);          /* #D8DEE9 */
  --color-foreground-bright: hsl(218, 27%, 92%);   /* #E5E9F0 */
  --color-card: hsl(222, 16%, 28%);                /* #3B4252 */
  --color-card-foreground: hsl(219, 28%, 88%);     /* #D8DEE9 */
  --color-popover: hsl(222, 16%, 28%);             /* #3B4252 */
  --color-popover-foreground: hsl(219, 28%, 88%);  /* #D8DEE9 */

  /* Frost — accent */
  --color-primary: hsl(193, 43%, 67%);             /* #88C0D0 */
  --color-primary-foreground: hsl(220, 16%, 22%);  /* #2E3440 */
  --color-secondary: hsl(222, 16%, 28%);           /* #3B4252 */
  --color-secondary-foreground: hsl(219, 28%, 88%);/* #D8DEE9 */
  --color-accent: hsl(193, 43%, 67%);              /* #88C0D0 */
  --color-accent-foreground: hsl(220, 16%, 22%);   /* #2E3440 */
  --color-ring: hsl(193, 43%, 67%);                /* #88C0D0 */
  --color-input: hsl(222, 16%, 28%);               /* #3B4252 */

  /* Muted */
  --color-muted: hsl(222, 16%, 28%);               /* #3B4252 */
  --color-muted-foreground: hsl(220, 16%, 46%);    /* ~#6A7690 lighter than #4C566A for readability */

  /* Aurora — semantic */
  --color-destructive: hsl(354, 42%, 56%);         /* #BF616A */
  --color-destructive-foreground: hsl(218, 27%, 94%); /* #ECEFF4 */
  --color-success: hsl(92, 28%, 65%);              /* #A3BE8C */
  --color-success-foreground: hsl(220, 16%, 22%);  /* #2E3440 */
  --color-warning: hsl(40, 71%, 73%);              /* #EBCB8B */
  --color-warning-foreground: hsl(220, 16%, 22%);  /* #2E3440 */

  /* Borders */
  --color-border: hsl(220, 16%, 32%);              /* #434C5E */
  --color-border-subtle: hsl(222, 16%, 28%);       /* #3B4252 */
  --color-border-hover: hsl(220, 16%, 36%);        /* #4C566A */
  --color-border-active: hsl(193, 43%, 67%);       /* #88C0D0 */
}

:root {
  --font-family-sans: "Geist", "Segoe UI", sans-serif;
  --font-family-mono: "Geist Mono", monospace;

  --radius: 0.5rem;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 0.75rem;

  --shadow-card: 0 1px 3px hsl(220, 16%, 10%, 0.3);
  --shadow-card-hover: 0 2px 8px hsl(220, 16%, 10%, 0.4);
  --shadow-elevated: 0 8px 24px hsl(220, 16%, 10%, 0.5);

  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
}

@layer base {
  * {
    border-color: var(--color-border);
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    margin: 0;
    padding: 0;
    font-family: var(--font-family-sans);
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    line-height: 1.6;
  }

  html,
  body {
    min-height: 100vh;
    overflow: hidden;
    user-select: none;
  }

  #root {
    min-height: 100vh;
  }

  /* Transparent background for dictation overlay window */
  body:has(.dictation-window) {
    background: transparent;
  }

  body:has(.dictation-window) #root {
    background: transparent;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: hsl(222, 16%, 28%);
}

::-webkit-scrollbar-thumb {
  background: hsl(220, 16%, 36%);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(220, 16%, 42%);
}
